var PageObject = function () {

   this.idDiv = element(by.id('id-div'));
   this.items = element.all(by.exactRepeater('item in items'));
   this.modelInput = element(by.model('model-input'));
   this.nameInput = element(by.name('name-input'));
   this.ngOptionsSelect = element(by.id('ngOptionsSelect'));
   this.singleExpression = element(by.exactBinding('singleExpression'));
   this.titleLabel = element(by.id('title-label'));

   this.get = function () {
      browser.get('');
   };

   this.clickElement = function (rowIndex1, rowIndex2) {
      this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.exactBinding('element')).click();
   };

   this.clickIdDiv = function () {
      this.idDiv.click();
   };

   this.clickItem = function (rowIndex1) {
      this.items.get(rowIndex1).element(by.exactBinding('item')).click();
   };

   this.clickModelInput = function () {
      this.modelInput.click();
   };

   this.clickNameInput = function () {
      this.nameInput.click();
   };

   this.clickNgOptionsSelect = function () {
      this.ngOptionsSelect.click();
   };

   this.clickSingleExpression = function () {
      this.singleExpression.click();
   };

   this.clickTitleLabel = function () {
      this.titleLabel.click();
   };

   this.selectNgOptionsSelectByPartialText = function (text) {
      this.ngOptionsSelect.all(by.cssContainingText('option', text)).click();
   };

   this.selectNgOptionsSelectByText = function (text) {
      this.ngOptionsSelect.all(by.xpath('option[.="' + text + '"]')).click();
   };

   this.selectNgOptionsSelectByValue = function (value) {
      this.ngOptionsSelect.all(by.css('option[value="' + value + '"]')).click();
   };

   this.setModelInput = function (value) {
      this.modelInput.clear();
      this.modelInput.sendKeys(value);
   };

   this.setNameInput = function (value) {
      this.nameInput.clear();
      this.nameInput.sendKeys(value);
   };

   this.elementShouldBeVisible = function (rowIndex1, rowIndex2) {
      expect(this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.exactBinding('element')).isDisplayed()).toBe(true);
   };

   this.elementShouldNotBeVisible = function (rowIndex1, rowIndex2) {
      expect(this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.exactBinding('element')).isDisplayed()).toBe(false);
   };

   this.elementShouldHaveClass = function (rowIndex1, rowIndex2, className) {
      this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.exactBinding('element')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBe(true);
      });
   };

   this.elementShouldNotHaveClass = function (rowIndex1, rowIndex2, className) {
      this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.exactBinding('element')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBe(true);
      });
   };

   this.elementShouldHaveText = function (rowIndex1, rowIndex2, value) {
      expect(this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.exactBinding('element')).getText()).toBe(value);
   };

   this.elementsCountShouldBe = function (rowIndex1, count) {
      expect(this.items.get(rowIndex1).all(by.exactRepeater('element in elements')).count()).toBe(count);
   };

   this.idDivShouldBeVisible = function () {
      expect(this.idDiv.isDisplayed()).toBe(true);
   };

   this.idDivShouldNotBeVisible = function () {
      expect(this.idDiv.isDisplayed()).toBe(false);
   };

   this.idDivShouldHaveClass = function (className) {
      this.idDiv.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBe(true);
      });
   };

   this.idDivShouldNotHaveClass = function (className) {
      this.idDiv.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBe(true);
      });
   };

   this.itemShouldBeVisible = function (rowIndex1) {
      expect(this.items.get(rowIndex1).element(by.exactBinding('item')).isDisplayed()).toBe(true);
   };

   this.itemShouldNotBeVisible = function (rowIndex1) {
      expect(this.items.get(rowIndex1).element(by.exactBinding('item')).isDisplayed()).toBe(false);
   };

   this.itemShouldHaveClass = function (rowIndex1, className) {
      this.items.get(rowIndex1).element(by.exactBinding('item')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBe(true);
      });
   };

   this.itemShouldNotHaveClass = function (rowIndex1, className) {
      this.items.get(rowIndex1).element(by.exactBinding('item')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBe(true);
      });
   };

   this.itemShouldHaveText = function (rowIndex1, value) {
      expect(this.items.get(rowIndex1).element(by.exactBinding('item')).getText()).toBe(value);
   };

   this.itemsCountShouldBe = function (count) {
      expect(this.items.count()).toBe(count);
   };

   this.modelInputShouldBeEnabled = function () {
      expect(this.modelInput.isEnabled()).toBe(true);
   };

   this.modelInputShouldNotBeEnabled = function () {
      expect(this.modelInput.isEnabled()).toBe(false);
   };

   this.modelInputShouldBeVisible = function () {
      expect(this.modelInput.isDisplayed()).toBe(true);
   };

   this.modelInputShouldNotBeVisible = function () {
      expect(this.modelInput.isDisplayed()).toBe(false);
   };

   this.modelInputShouldHaveClass = function (className) {
      this.modelInput.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBe(true);
      });
   };

   this.modelInputShouldNotHaveClass = function (className) {
      this.modelInput.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBe(true);
      });
   };

   this.nameInputShouldBeEnabled = function () {
      expect(this.nameInput.isEnabled()).toBe(true);
   };

   this.nameInputShouldNotBeEnabled = function () {
      expect(this.nameInput.isEnabled()).toBe(false);
   };

   this.nameInputShouldBeVisible = function () {
      expect(this.nameInput.isDisplayed()).toBe(true);
   };

   this.nameInputShouldNotBeVisible = function () {
      expect(this.nameInput.isDisplayed()).toBe(false);
   };

   this.nameInputShouldHaveClass = function (className) {
      this.nameInput.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBe(true);
      });
   };

   this.nameInputShouldNotHaveClass = function (className) {
      this.nameInput.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBe(true);
      });
   };

   this.ngOptionsSelectByPartialTextShouldBeSelected = function () {
      var expectedOptions = [];
      for (var i = 0; i < arguments.length; i++) {
         expectedOptions = expectedOptions.concat(arguments[i]);
      }

      for (i = 0; i < expectedOptions.length; i++) {
         var options = this.ngOptionsSelect.all(by.cssContainingText('option', expectedOptions[i]));

         options.each(function (option) {
            expect(option.isSelected()).toBe(true);
         });

         expect(options.count()).toBeGreaterThan(0);
      }
   };

   this.ngOptionsSelectByPartialTextShouldNotBeSelected = function () {
      var expectedOptions = [];
      for (var i = 0; i < arguments.length; i++) {
         expectedOptions = expectedOptions.concat(arguments[i]);
      }

      for (i = 0; i < expectedOptions.length; i++) {
         this.ngOptionsSelect.all(by.cssContainingText('option', expectedOptions[i])).each(function (option) {
            expect(option.isSelected()).toBe(false);
         });
      }
   };

   this.ngOptionsSelectByTextShouldBeSelected = function () {
      var expectedOptions = [];
      for (var i = 0; i < arguments.length; i++) {
         expectedOptions = expectedOptions.concat(arguments[i]);
      }

      for (i = 0; i < expectedOptions.length; i++) {
         var options = this.ngOptionsSelect.all(by.xpath('option[.="' + expectedOptions[i] + '"]'));

         options.each(function (option) {
            expect(option.isSelected()).toBe(true);
         });

         expect(options.count()).toBeGreaterThan(0);
      }
   };

   this.ngOptionsSelectByTextShouldNotBeSelected = function () {
      var expectedOptions = [];
      for (var i = 0; i < arguments.length; i++) {
         expectedOptions = expectedOptions.concat(arguments[i]);
      }

      for (i = 0; i < expectedOptions.length; i++) {
         this.ngOptionsSelect.all(by.xpath('option[.="' + expectedOptions[i] + '"]')).each(function(option) {
            expect(option.isSelected()).toBe(false);
         });
      }
   };

   this.ngOptionsSelectByValueShouldBeSelected = function () {
      var expectedOptions = [];
      for (var i = 0; i < arguments.length; i++) {
         expectedOptions = expectedOptions.concat(arguments[i]);
      }

      for (i = 0; i < expectedOptions.length; i++) {
         var options = this.ngOptionsSelect.all(by.css('option[value="' + expectedOptions[i] + '"]'));

         options.each(function (option) {
            expect(option.isSelected()).toBe(true);
         });

         expect(options.count()).toBeGreaterThan(0);
      }
   };

   this.ngOptionsSelectByValueShouldNotBeSelected = function () {
      var expectedOptions = [];
      for (var i = 0; i < arguments.length; i++) {
         expectedOptions = expectedOptions.concat(arguments[i]);
      }

      for (i = 0; i < expectedOptions.length; i++) {
         this.ngOptionsSelect.all(by.css('option[value="' + expectedOptions[i] + '"]')).each(function(option) {
            expect(option.isSelected()).toBe(false);
         });
      }
   };

   this.ngOptionsSelectShouldBeEnabled = function () {
      expect(this.ngOptionsSelect.isEnabled()).toBe(true);
   };

   this.ngOptionsSelectShouldNotBeEnabled = function () {
      expect(this.ngOptionsSelect.isEnabled()).toBe(false);
   };

   this.ngOptionsSelectShouldBeVisible = function () {
      expect(this.ngOptionsSelect.isDisplayed()).toBe(true);
   };

   this.ngOptionsSelectShouldNotBeVisible = function () {
      expect(this.ngOptionsSelect.isDisplayed()).toBe(false);
   };

   this.ngOptionsSelectShouldHaveClass = function (className) {
      this.ngOptionsSelect.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBe(true);
      });
   };

   this.ngOptionsSelectShouldNotHaveClass = function (className) {
      this.ngOptionsSelect.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBe(true);
      });
   };

   this.shouldHaveModelInput = function (value) {
      expect(this.modelInput.getAttribute('value')).toEqual(value);
   };

   this.shouldHaveNameInput = function (value) {
      expect(this.nameInput.getAttribute('value')).toEqual(value);
   };

   this.singleExpressionShouldBeVisible = function () {
      expect(this.singleExpression.isDisplayed()).toBe(true);
   };

   this.singleExpressionShouldNotBeVisible = function () {
      expect(this.singleExpression.isDisplayed()).toBe(false);
   };

   this.singleExpressionShouldHaveClass = function (className) {
      this.singleExpression.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBe(true);
      });
   };

   this.singleExpressionShouldNotHaveClass = function (className) {
      this.singleExpression.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBe(true);
      });
   };

   this.singleExpressionShouldHaveText = function (value) {
      expect(this.singleExpression.getText()).toBe(value);
   };

   this.titleLabelShouldBeVisible = function () {
      expect(this.titleLabel.isDisplayed()).toBe(true);
   };

   this.titleLabelShouldNotBeVisible = function () {
      expect(this.titleLabel.isDisplayed()).toBe(false);
   };

   this.titleLabelShouldHaveClass = function (className) {
      this.titleLabel.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBe(true);
      });
   };

   this.titleLabelShouldNotHaveClass = function (className) {
      this.titleLabel.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBe(true);
      });
   };

};

module.exports = PageObject;
