var PageObject = function () {

   this.addButton = element(by.buttonText('Add'));
   this.addPart = element(by.css('div.row > div.col-md-12 > span:nth-of-type(2)'));
   this.linkText2Link = element(by.css('div.row > div.col-md-12 > a.a-link'));
   this.namedLink = element(by.name('named-link'));
   this.nestedClick = element(by.css('div.row > div.col-md-12 > span:nth-of-type(3)'));
   this.pages = element.all(by.css('div.row > div.col-md-12 > ul > li'));
   this.parts = element.all(by.css('#parts-table > tbody > tr.part-row'));
   this.totalCountLabel = element(by.id('totalCountLabel'));

   this.get = function () {
      browser.get('');
   };

   this.clickAddButton = function () {
      this.addButton.click();
   };

   this.clickEditPartButton = function (rowIndex1) {
      this.parts.get(rowIndex1).element(by.buttonText('Edit')).click();
   };

   this.clickItemLink = function (rowIndex1, rowIndex2) {
      this.pages.get(rowIndex1).all(by.css('ul > li')).get(rowIndex2).element(by.css('a')).click();
   };

   this.clickLinkText2Link = function () {
      this.linkText2Link.click();
   };

   this.clickNamedLink = function () {
      this.namedLink.click();
   };

   this.clickTotalCountLabel = function () {
      this.totalCountLabel.click();
   };

   this.addButtonShouldBeVisible = function () {
      expect(this.addButton.isDisplayed()).toBeTrue();
   };

   this.addButtonShouldNotBeVisible = function () {
      expect(this.addButton.isDisplayed()).toBeFalse();
   };

   this.addButtonShouldHaveClass = function (className) {
      this.addButton.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.addButtonShouldNotHaveClass = function (className) {
      this.addButton.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.addPartShouldHaveClass = function (className) {
      this.addPart.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.addPartShouldNotHaveClass = function (className) {
      this.addPart.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.addPartShouldHaveText = function (value) {
      expect(this.addPart.getText()).toBe(value);
   };

   this.editPartButtonShouldBeVisible = function (rowIndex1) {
      expect(this.parts.get(rowIndex1).element(by.buttonText('Edit')).isDisplayed()).toBeTrue();
   };

   this.editPartButtonShouldNotBeVisible = function (rowIndex1) {
      expect(this.parts.get(rowIndex1).element(by.buttonText('Edit')).isDisplayed()).toBeFalse();
   };

   this.editPartButtonShouldHaveClass = function (rowIndex1, className) {
      this.parts.get(rowIndex1).element(by.buttonText('Edit')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.editPartButtonShouldNotHaveClass = function (rowIndex1, className) {
      this.parts.get(rowIndex1).element(by.buttonText('Edit')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.itemLinkShouldBeVisible = function (rowIndex1, rowIndex2) {
      expect(this.pages.get(rowIndex1).all(by.css('ul > li')).get(rowIndex2).element(by.css('a')).isDisplayed()).toBeTrue();
   };

   this.itemLinkShouldNotBeVisible = function (rowIndex1, rowIndex2) {
      expect(this.pages.get(rowIndex1).all(by.css('ul > li')).get(rowIndex2).element(by.css('a')).isDisplayed()).toBeFalse();
   };

   this.itemLinkShouldHaveClass = function (rowIndex1, rowIndex2, className) {
      this.pages.get(rowIndex1).all(by.css('ul > li')).get(rowIndex2).element(by.css('a')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.itemLinkShouldNotHaveClass = function (rowIndex1, rowIndex2, className) {
      this.pages.get(rowIndex1).all(by.css('ul > li')).get(rowIndex2).element(by.css('a')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.itemLinkShouldHaveText = function (rowIndex1, rowIndex2, value) {
      expect(this.pages.get(rowIndex1).all(by.css('ul > li')).get(rowIndex2).element(by.css('a')).getText()).toBe(value);
   };

   this.itemsCountShouldBe = function (rowIndex1, count) {
      expect(this.pages.get(rowIndex1).all(by.css('ul > li')).count()).toBe(count);
   };

   this.linkText2LinkShouldBeVisible = function () {
      expect(this.linkText2Link.isDisplayed()).toBeTrue();
   };

   this.linkText2LinkShouldNotBeVisible = function () {
      expect(this.linkText2Link.isDisplayed()).toBeFalse();
   };

   this.linkText2LinkShouldHaveClass = function (className) {
      this.linkText2Link.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.linkText2LinkShouldNotHaveClass = function (className) {
      this.linkText2Link.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.linkText2LinkShouldHaveText = function (value) {
      expect(this.linkText2Link.getText()).toBe(value);
   };

   this.modelShouldHaveClass = function (rowIndex1, className) {
      this.parts.get(rowIndex1).element(by.css('td:nth-of-type(4)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.modelShouldNotHaveClass = function (rowIndex1, className) {
      this.parts.get(rowIndex1).element(by.css('td:nth-of-type(4)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.modelShouldHaveText = function (rowIndex1, value) {
      expect(this.parts.get(rowIndex1).element(by.css('td:nth-of-type(4)')).getText()).toBe(value);
   };

   this.namedLinkShouldBeVisible = function () {
      expect(this.namedLink.isDisplayed()).toBeTrue();
   };

   this.namedLinkShouldNotBeVisible = function () {
      expect(this.namedLink.isDisplayed()).toBeFalse();
   };

   this.namedLinkShouldHaveClass = function (className) {
      this.namedLink.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.namedLinkShouldNotHaveClass = function (className) {
      this.namedLink.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.namedLinkShouldHaveText = function (value) {
      expect(this.namedLink.getText()).toBe(value);
   };

   this.nestedClickShouldHaveClass = function (className) {
      this.nestedClick.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.nestedClickShouldNotHaveClass = function (className) {
      this.nestedClick.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.nestedClickShouldHaveText = function (value) {
      expect(this.nestedClick.getText()).toBe(value);
   };

   this.pageShouldHaveClass = function (rowIndex1, className) {
      this.pages.get(rowIndex1).element(by.css('span')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.pageShouldNotHaveClass = function (rowIndex1, className) {
      this.pages.get(rowIndex1).element(by.css('span')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.pageShouldHaveText = function (rowIndex1, value) {
      expect(this.pages.get(rowIndex1).element(by.css('span')).getText()).toBe(value);
   };

   this.pagesCountShouldBe = function (count) {
      expect(this.pages.count()).toBe(count);
   };

   this.pagesShouldHaveClass = function (rowIndex1, className) {
      this.pages.get(rowIndex1).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.pagesShouldNotHaveClass = function (rowIndex1, className) {
      this.pages.get(rowIndex1).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.pagesShouldHaveText = function (rowIndex1, value) {
      expect(this.pages.get(rowIndex1).getText()).toBe(value);
   };

   this.partHaveItYesNoShouldHaveClass = function (rowIndex1, className) {
      this.parts.get(rowIndex1).element(by.css('td.vert-align.text-center:nth-of-type(2)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.partHaveItYesNoShouldNotHaveClass = function (rowIndex1, className) {
      this.parts.get(rowIndex1).element(by.css('td.vert-align.text-center:nth-of-type(2)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.partHaveItYesNoShouldHaveText = function (rowIndex1, value) {
      expect(this.parts.get(rowIndex1).element(by.css('td.vert-align.text-center:nth-of-type(2)')).getText()).toBe(value);
   };

   this.partIdShouldHaveClass = function (rowIndex1, className) {
      this.parts.get(rowIndex1).element(by.css('td.vert-align.text-center:nth-of-type(1)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.partIdShouldNotHaveClass = function (rowIndex1, className) {
      this.parts.get(rowIndex1).element(by.css('td.vert-align.text-center:nth-of-type(1)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.partIdShouldHaveText = function (rowIndex1, value) {
      expect(this.parts.get(rowIndex1).element(by.css('td.vert-align.text-center:nth-of-type(1)')).getText()).toBe(value);
   };

   this.partsCountShouldBe = function (count) {
      expect(this.parts.count()).toBe(count);
   };

   this.totalCountLabelShouldBeVisible = function () {
      expect(this.totalCountLabel.isDisplayed()).toBeTrue();
   };

   this.totalCountLabelShouldNotBeVisible = function () {
      expect(this.totalCountLabel.isDisplayed()).toBeFalse();
   };

   this.totalCountLabelShouldHaveClass = function (className) {
      this.totalCountLabel.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.totalCountLabelShouldNotHaveClass = function (className) {
      this.totalCountLabel.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.totalCountLabelShouldHaveText = function (value) {
      expect(this.totalCountLabel.getText()).toBe(value);
   };

};

module.exports = PageObject;
