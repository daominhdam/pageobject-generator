var PageObject = function () {

   this.div1 = element(by.css('body > div > div:nth-of-type(1)'));
   this.div2 = element(by.css('body > div > div:nth-of-type(2)'));
   this.items = element.all(by.exactRepeater('item in items'));
   this.items2 = element.all(by.exactRepeater('item in items2'));

   this.get = function () {
      browser.get('');
   };

   this.clickDiv1 = function () {
      this.div1.click();
   };

   this.clickDiv2 = function () {
      this.div2.click();
   };

   this.clickDoubleNestedDiv1 = function (rowIndex1, rowIndex2) {
      this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.css('div:nth-of-type(1)')).click();
   };

   this.clickDoubleNestedDiv2 = function (rowIndex1, rowIndex2) {
      this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.css('div:nth-of-type(2)')).click();
   };

   this.clickOneLevelNestedDiv1 = function (rowIndex1) {
      this.items2.get(rowIndex1).element(by.css('div:nth-of-type(1)')).click();
   };

   this.clickOneLevelNestedDiv2 = function (rowIndex1) {
      this.items2.get(rowIndex1).element(by.css('div:nth-of-type(2)')).click();
   };

   this.div1ShouldBeVisible = function () {
      expect(this.div1.isDisplayed()).toBeTrue();
   };

   this.div1ShouldNotBeVisible = function () {
      expect(this.div1.isDisplayed()).toBeFalse();
   };

   this.div1ShouldHaveClass = function (className) {
      this.div1.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.div1ShouldNotHaveClass = function (className) {
      this.div1.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.div2ShouldBeVisible = function () {
      expect(this.div2.isDisplayed()).toBeTrue();
   };

   this.div2ShouldNotBeVisible = function () {
      expect(this.div2.isDisplayed()).toBeFalse();
   };

   this.div2ShouldHaveClass = function (className) {
      this.div2.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.div2ShouldNotHaveClass = function (className) {
      this.div2.getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.doubleNestedDiv1ShouldBeVisible = function (rowIndex1, rowIndex2) {
      expect(this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.css('div:nth-of-type(1)')).isDisplayed()).toBeTrue();
   };

   this.doubleNestedDiv1ShouldNotBeVisible = function (rowIndex1, rowIndex2) {
      expect(this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.css('div:nth-of-type(1)')).isDisplayed()).toBeFalse();
   };

   this.doubleNestedDiv1ShouldHaveClass = function (rowIndex1, rowIndex2, className) {
      this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.css('div:nth-of-type(1)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.doubleNestedDiv1ShouldNotHaveClass = function (rowIndex1, rowIndex2, className) {
      this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.css('div:nth-of-type(1)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.doubleNestedDiv2ShouldBeVisible = function (rowIndex1, rowIndex2) {
      expect(this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.css('div:nth-of-type(2)')).isDisplayed()).toBeTrue();
   };

   this.doubleNestedDiv2ShouldNotBeVisible = function (rowIndex1, rowIndex2) {
      expect(this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.css('div:nth-of-type(2)')).isDisplayed()).toBeFalse();
   };

   this.doubleNestedDiv2ShouldHaveClass = function (rowIndex1, rowIndex2, className) {
      this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.css('div:nth-of-type(2)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.doubleNestedDiv2ShouldNotHaveClass = function (rowIndex1, rowIndex2, className) {
      this.items.get(rowIndex1).element(by.exactRepeater('element in elements').row(rowIndex2)).element(by.css('div:nth-of-type(2)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.elementsCountShouldBe = function (rowIndex1, count) {
      expect(this.items.get(rowIndex1).all(by.exactRepeater('element in elements')).count()).toBe(count);
   };

   this.items2CountShouldBe = function (count) {
      expect(this.items2.count()).toBe(count);
   };

   this.itemsCountShouldBe = function (count) {
      expect(this.items.count()).toBe(count);
   };

   this.oneLevelNestedDiv1ShouldBeVisible = function (rowIndex1) {
      expect(this.items2.get(rowIndex1).element(by.css('div:nth-of-type(1)')).isDisplayed()).toBeTrue();
   };

   this.oneLevelNestedDiv1ShouldNotBeVisible = function (rowIndex1) {
      expect(this.items2.get(rowIndex1).element(by.css('div:nth-of-type(1)')).isDisplayed()).toBeFalse();
   };

   this.oneLevelNestedDiv1ShouldHaveClass = function (rowIndex1, className) {
      this.items2.get(rowIndex1).element(by.css('div:nth-of-type(1)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.oneLevelNestedDiv1ShouldNotHaveClass = function (rowIndex1, className) {
      this.items2.get(rowIndex1).element(by.css('div:nth-of-type(1)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

   this.oneLevelNestedDiv2ShouldBeVisible = function (rowIndex1) {
      expect(this.items2.get(rowIndex1).element(by.css('div:nth-of-type(2)')).isDisplayed()).toBeTrue();
   };

   this.oneLevelNestedDiv2ShouldNotBeVisible = function (rowIndex1) {
      expect(this.items2.get(rowIndex1).element(by.css('div:nth-of-type(2)')).isDisplayed()).toBeFalse();
   };

   this.oneLevelNestedDiv2ShouldHaveClass = function (rowIndex1, className) {
      this.items2.get(rowIndex1).element(by.css('div:nth-of-type(2)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) !== -1).toBeTrue();
      });
   };

   this.oneLevelNestedDiv2ShouldNotHaveClass = function (rowIndex1, className) {
      this.items2.get(rowIndex1).element(by.css('div:nth-of-type(2)')).getAttribute('class').then(function (classes) {
         expect(classes.split(' ').indexOf(className) === -1).toBeTrue();
      });
   };

};

module.exports = PageObject;
